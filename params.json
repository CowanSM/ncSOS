{"name":"NcSOS","google":"UA-33321232-1","body":"# NcSOS\r\n\r\nNcSOS adds a OGC SOS service to your existing THREDDS server.\r\n\r\n_You will need a working THREDDS installation of a least **4.3** to run NcSOS_.\r\n\r\n# Installation\r\n1. Download ncSOS.zip\r\n2. Extract ncSOS.zip into a local directory\r\n3. Copy the ncSOS.jar into your $TOMCAT_HOME/webapps/thredds/WEB-INF/lib directory.\r\n4. Copy the sos-servlet.xml configuration file into the $TOMCAT_HOME/webapps/thredds/WEB-INF directory.\r\n5. Add two new servlet mappings to your $TOMCAT_HOME/webapps/thredds/WEB-INF/web.xml file:\r\n    ```xml\r\n    <servlet>\r\n        <servlet-name>sos</servlet-name>\r\n        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>\r\n        <load-on-startup>1</load-on-startup>\r\n    </servlet>\r\n    ```\r\n    ```xml\r\n    <servlet-mapping>\r\n        <servlet-name>sos</servlet-name>\r\n        <url-pattern>/sos/*</url-pattern>\r\n    </servlet-mapping>\r\n    ```\r\n\r\n6. Add the following service definition to enable SOS in your THREDDS catalog XML files:\r\n    ```xml\r\n    <service name=\"sos\" serviceType=\"SOS\" base=\"/thredds/sos/\" />\r\n    ``` \r\n\r\n7. Restart the web application server.\r\n\r\n\r\n# Supported Datasets\r\n\r\nNcSOS works with datasets that can be loaded as an ANY_POINT FeatureType using the [NetCDF-Java library](http://www.unidata.ucar.edu/software/netcdf-java/documentation.htm).  A mapping from [CF-1.6 Discrete Sampling Geometries](http://cf-pcmdi.llnl.gov/documents/cf-conventions/1.6/cf-conventions.html#discrete-sampling-geometries) to [NetCDF-Java Point Feature Types](http://www.unidata.ucar.edu/software/netcdf-java/reference/FeatureDatasets/PointFeatures.html) to NcSOS offerings is below.\r\n\r\n**Note:** NetCDF-Java added support for the CF-1.6 Discrete Sampling Geometries in version **4.3**.  Any version prior to **4.3** will not work with NcSOS.\r\n\r\n<table>\r\n    <tr>\r\n        <th>CF-1.6</th>\r\n        <th>NetCDF-Java</th>\r\n        <th>What NcSOS Offers</th>\r\n    </tr>\r\n    <tr>\r\n        <td>Point</td>\r\n        <td>PointFeature</td>\r\n        <td>Point</td>\r\n    </tr>\r\n    <tr>\r\n        <td>Point</td>\r\n        <td>PointFeatureCollection</td>\r\n        <td>Many Points</td>\r\n    </tr>\r\n    <tr>\r\n        <td>Profile</td>\r\n        <td>ProfileFeature</td>\r\n        <td>Profile</td>\r\n    </tr>\r\n    <tr>\r\n        <td>Profile</td>\r\n        <td>ProfileFeatureCollection</td>\r\n        <td>Many Profiles</td>\r\n    </tr>\r\n    <tr>\r\n        <td>Timeseries</td>\r\n        <td>StationTimeSeriesFeature</td>\r\n        <td>Timeseries</td>\r\n    </tr>\r\n    <tr>\r\n        <td>Timeseries</td>\r\n        <td>StationTimeSeriesFeatureCollection</td>\r\n        <td>Many Timeseries</td>\r\n    </tr>\r\n    <tr>\r\n        <td>TimeseriesProfile</td>\r\n        <td>StationProfileFeature</td>\r\n        <td>TimeseriesProfile</td>\r\n    </tr>\r\n    <tr>\r\n        <td>TimeseriesProfile</td>\r\n        <td>StationProfileFeatureCollection</td>\r\n        <td>Many TimeseriesProfiles</td>\r\n    </tr>\r\n    <tr>\r\n        <td>Trajectory</td>\r\n        <td>TrajectoryFeature</td>\r\n        <td>Trajectory</td>\r\n    </tr>\r\n    <tr>\r\n        <td>Trajectory</td>\r\n        <td>TrajectoryFeatureCollection</td>\r\n        <td>Many Trajectories</td>\r\n    </tr>\r\n    <tr>\r\n        <td>TrajectoryProfile</td>\r\n        <td>SectionFeature</td>\r\n        <td>Trajectory with a profile of data (ranging Z) at each point</td>\r\n    </tr>\r\n    <tr>\r\n        <td>TrajectoryProfile</td>\r\n        <td>SectionFeatureCollection</td>\r\n        <td>Many Trajectories with a profile of data (ranging Z) at each point</td>\r\n    </tr>\r\n</table>\r\n\r\n\r\n## Compatible Templates\r\n\r\nWorking NetCDF templates for all types of the CF-1.6 Discrete Sampling Geometries are available for reference when creating files for NcSOS to serve.  Each of these templates aligns with a corresponding CF-1.6 example.  Each template folder has a description of the type of data used in each file and when to use such an encoding.\r\n\r\n### [CF-1.6 Point](http://cf-pcmdi.llnl.gov/documents/cf-conventions/1.6/cf-conventions.html#idp8294224)\r\nOne or more parameters measured at a point in time and space.\r\n\r\n**Example:**  You went out on a boat one day and measured a few parameters.  Some unrelated time in the future, you went out to a completely different point and measured a few parameters.  The measurements have nothing in common.  This could be represented as a CF-1.6 Point dataset containing two points.\r\n\r\n**Templates:** https://github.com/asascience-open/CFPointConventions/tree/master/point\r\n\r\n### [CF-1.6 TimeSeries](http://cf-pcmdi.llnl.gov/documents/cf-conventions/1.6/cf-conventions.html#time-series-data)\r\nOne or more parameters measured at a point space with varying time.\r\n\r\n**Example:**  Two wind sensors measuring wind speed and wing gust every 6 minutes for a year.  The sensors did not move from their geographic location during the year.  This could be represented as a CF-1.6 Timeseries dataset containing two 'stations'.\r\n\r\n**Templates:** https://github.com/asascience-open/CFPointConventions/tree/master/timeSeries\r\n\r\n### [CF-1.6 TimeSeriesProfile](http://cf-pcmdi.llnl.gov/documents/cf-conventions/1.6/cf-conventions.html#idp8405568)\r\nA set of data points along a vertical line.\r\n\r\n**Example:** The timeseries produced from bottom mounted ADCP.\r\n\r\n**Templates:** https://github.com/asascience-open/CFPointConventions/tree/master/timeSeriesProfile\r\n\r\n### [CF-1.6 Trajectory](http://cf-pcmdi.llnl.gov/documents/cf-conventions/1.6/cf-conventions.html#idp8377728)\r\nA set of data points along a 1D curve in time and space.\r\n\r\n**Example:** A glider moving through the water column in the x,y, and z dimentions, and taking readings at its location.\r\n\r\n**Templates:** https://github.com/asascience-open/CFPointConventions/tree/master/trajectory\r\n\r\n### [CF-1.6 TrajectoryProfile](http://cf-pcmdi.llnl.gov/documents/cf-conventions/1.6/cf-conventions.html#idp8438928)\r\nProfiles taken along a trajectory.\r\n\r\n**Example:** A glider moving through the water column in the x,y, and z dimentions, making water column profiles as it moves.\r\n\r\n**Templates:** https://github.com/asascience-open/CFPointConventions/tree/master/trajectoryProfile\r\n\r\n## Will my dataset work?\r\n\r\nIf you already have your dataset in a THREDDS server, you can test if it will work with NcSOS by using the ToolsUI program from the NetCDF-Java library.  You can Webstart the ToolsUI application here: [ToolsUI JNLP Webstart](http://www.unidata.ucar.edu/software/netcdf-java/v4.3/webstart/netCDFtools.jnlp).\r\n\r\nEnter your OPeNDAP Data endpoint from THREDDS \r\n![OPeNDAP Link](http://i.imgur.com/O3YkY.png)\r\n\r\nInto the ToolsUI FeatureTypes / PointFeature tab and press enter:\r\n![Enter DAP URL into ToolsUI](http://i.imgur.com/EYHQg.png)\r\n\r\nIf you see a row of data here, you are in good shape so far!\r\n\r\n![Working file!](http://i.imgur.com/045z8.png)\r\n\r\n![Clicking through rows!](http://i.imgur.com/jTCYE.png)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n# Supported Output Formats\r\n* OOSTethys SWE (\"text/xml; subtype='om/1.0.0'\")\r\n* IOOS SWE (WIP) (?)\r\n\r\n# Function Diagram\r\n* [Function Diagram](https://github.com/asascience-open/ncSOS/wiki/Function-Diagram)","tagline":"SOS Service on top of THREDDS","note":"Don't delete this file! It's used internally to help with page regeneration."}